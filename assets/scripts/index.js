!function(e){function t(t){for(var n,i,c=t[0],u=t[1],l=t[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(s&&s(t);d.length;)d.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,c=1;c<r.length;c++){var u=r[c];0!==a[u]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={0:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;o.push([369,1]),r()}({143:function(e,t,r){var n=r(24),a=r(368);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},345:function(e,t,r){var n=r(24),a=r(346);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},346:function(e,t,r){},347:function(e,t,r){var n=r(24),a=r(348);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},348:function(e,t,r){},350:function(e,t,r){var n=r(24),a=r(351);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},351:function(e,t,r){},352:function(e,t,r){var n=r(24),a=r(353);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},353:function(e,t,r){},354:function(e,t,r){var n=r(24),a=r(355);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},355:function(e,t,r){},356:function(e,t,r){var n=r(24),a=r(357);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},357:function(e,t,r){},358:function(e,t,r){var n=r(24),a=r(359);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},359:function(e,t,r){},360:function(e,t,r){var n=r(24),a=r(361);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},361:function(e,t,r){},362:function(e,t,r){var n=r(24),a=r(363);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},363:function(e,t,r){},364:function(e,t,r){var n=r(24),a=r(365);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},365:function(e,t,r){},366:function(e,t,r){var n=r(24),a=r(367);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},367:function(e,t,r){},368:function(e,t,r){},369:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(73),i=r.n(o),c=r(8),u=r(15),l=(r(157),r(33)),s=r(145),f=r(107),d=r(146),m=r(147),p=r.n(m),y=function(e){return"dollar"===e?String.fromCharCode(36):String.fromCharCode(8364)},b=function(e,t,r){return"dollar"===t?e:+(e*r).toFixed(2)};function v(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O={orderSum:0,exchangeRate:"dollar",exchangeRateCoefficient:"",sign:y("dollar"),order:{pizzas:[]},address:"",phoneNumber:"",userId:"",isAuthorized:!1,deliveryCost:"",displayedDeliveryCost:"",orderWasSent:!1},A=r(148),j=r(10),w=(r(345),function(e){return a.a.createElement("div",{id:"enscart_my_wrapper"},a.a.createElement("div",{id:"enscart_myimage_wrapper"},a.a.createElement("img",{src:"https://i.ibb.co/ZfJ03Ns/shop1.png"})),a.a.createElement("div",{id:"enscart_my_counter_wrapper"},a.a.createElement("span",{id:"easynetshop-cart-count"},e.counter)))});function _(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function C(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){_(o,n,a,i,c,"next",e)}function c(e){_(o,n,a,i,c,"throw",e)}i(void 0)}))}}var I=function(e){return{type:"ADD_PIZZA_TO_CART",payload:e}},N=function(e){return{type:"CHANGE_PIZZA_QUANTITY",payload:e}},x=function(e){return{type:"REMOVE_PIZZA_FROM_CART",payload:e}},z=function(e){return{type:"HAS_AUTHORISED",payload:e}};r(347);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R=Object(c.b)((function(e){return{state:e}}),null)((function(e){var t=e.state.order.pizzas,r=e.state.exchangeRate,o=e.state.isAuthorized,i=k(Object(n.useState)(""),2),c=i[0],l=i[1],s=k(Object(n.useState)(""),2),f=s[0],d=s[1],m=k(Object(n.useState)({message:"",imageLink:""}),2),p=m[0],y=m[1],b=k(Object(n.useState)(""),2),v=b[0],h=b[1],g=k(Object(n.useState)(""),2),E=g[0],S=g[1];Object(n.useEffect)((function(){l(O())}),[r]),Object(n.useEffect)((function(){d(t.reduce((function(e,t){return e+t.counter}),0))}),[t]),Object(n.useEffect)((function(){o?(y({message:"You are authorized ",imageLink:"https://drive.google.com/uc?export=view&id=1KUFWJOSaU8K1YvnvkKTD2lrYDv3b5LPq"}),h(""),S("hidden")):(y({message:"",imageLink:""}),h("hidden"),S(""))}),[o]);var O=function(){var t;switch(e.state.exchangeRate){case"dollar":t="1Uol01luejIPhLtlJ30bZFMwfKfxDtskQ";break;case"euro":t="1unCXIPsk41IfaBidpd77u21SbsdfeBPj"}return t},A=e.dispatch;return a.a.createElement("nav",null,a.a.createElement("div",{id:"logo"},a.a.createElement("img",{src:"https://drive.google.com/uc?export=view&id=1XUK4cd0QXMIvUOVGk9a4BrGvJPRQnwEL"}),a.a.createElement("aside",null,a.a.createElement("label",null,p.message),a.a.createElement("img",{src:p.imageLink}))),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(u.b,{to:"/"},"Menu")),a.a.createElement("li",{className:v},a.a.createElement(u.b,{to:"/orders"},"Orders")),a.a.createElement("li",{className:v,onClick:function(){A({type:"LOG_OUT"})}},a.a.createElement(u.b,{to:"/"},"Log out")),a.a.createElement("li",{className:E},a.a.createElement(u.b,{to:"/checkout"},"Checkout")),a.a.createElement("li",null,a.a.createElement("img",{id:"exchange-rate",src:"https://drive.google.com/uc?export=view&id=".concat(c),onClick:function(){A(function(e){return{type:"CHANGE_EXCHANGE_RATE",payload:e}}("dollar"===r?"euro":"dollar"))}})),a.a.createElement("li",null,a.a.createElement(u.b,{to:"/cart"},a.a.createElement(w,{counter:f})))))})),P=(r(350),r(352),function(e){var t=e.counter,r=(e.index,e.changePizzaCounter);return t>0?a.a.createElement("div",null,a.a.createElement("ul",{className:"counter"},a.a.createElement("li",{className:"button counter-button",onClick:function(){return r(t-1)}},"−"),a.a.createElement("li",null,a.a.createElement("span",{className:"quantity"},t)),a.a.createElement("li",{className:"button counter-button",onClick:function(){return r(t+1)}},"+"))):a.a.createElement("button",{className:"counter button send",onClick:function(){return r(t+1)}},"Add to cart +")});function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var U=Object(c.b)((function(e){return{state:e}}),null)((function(e){var t=e.pizza,r=t.title,o=t.image,i=t.price,c=t.ingredients,u=e.state.sign,l=e.state.exchangeRate,s=e.state.exchangeRateCoefficient,f=M(Object(n.useState)(),2),d=f[0],m=f[1],p=M(Object(n.useState)(),2),y=p[0],v=p[1];Object(n.useEffect)((function(){v(b(i,l,s))}),[l,s]),Object(n.useEffect)((function(){var t;m((t=e.state.order.pizzas.find((function(e){return e.title===r})))?t.counter:0)}),[]);var h=e.dispatch;return a.a.createElement("li",{className:"pizza-card"},a.a.createElement("div",{className:"pizza-card-content"},a.a.createElement("img",{src:"https://drive.google.com/uc?export=view&id=".concat(o)}),a.a.createElement("h3",null,r),a.a.createElement("aside",null,c.toString()),a.a.createElement("aside",{className:"price"},y," ",u),a.a.createElement(P,{counter:d,changePizzaCounter:function(e){m(e),h(d>0&&e>0?N({title:r,value:e}):e<1?x(r):I({title:r,price:i,image:o,counter:e}))}})))}));r(354);function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G=function(){Object(n.useEffect)((function(){o()}),[]);var e=L(Object(n.useState)([]),2),t=e[0],r=e[1],o=function(){fetch("http://liptonv.pythonanywhere.com/get_pizza").then((function(e){return e.json()})).then((function(e){var t=e.pizzas.filter((function(e){return e}));r(t)}))};return a.a.createElement("section",{id:"menu"},a.a.createElement("ul",null,t.map((function(e){return a.a.createElement(U,{key:e.title,pizza:e})}))))},Y=function(e){var t=e.foodItem,r=t.title,n=t.image,o=t.displayedPrice,i=t.counter,c=e.sign;return a.a.createElement("li",{className:"pizza-cart-item"},a.a.createElement("div",{className:"pizza-cart-item-content"},a.a.createElement("div",null,a.a.createElement("img",{src:"https://drive.google.com/uc?export=view&id=".concat(n)}),a.a.createElement("h3",null,r)),a.a.createElement("div",null,a.a.createElement("p",null,i," x ",o," ",c))))};r(356);function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var J=function(e){var t=e.order,r=t.address,o=t.phoneNumber,i=t.totalPrice,c=t.exchangeRate,u=t.date;Object(n.useEffect)((function(){f(y(c))}),[c]);var l=H(Object(n.useState)(""),2),s=l[0],f=l[1];return a.a.createElement("li",{className:"order"},a.a.createElement("div",null,a.a.createElement("ul",{className:"order-content"},a.a.createElement("li",null,"Phone number: ",o),a.a.createElement("li",null,"Address: ",r),a.a.createElement("li",null,"Date: ",u)),a.a.createElement("ul",null,e.order.orders.map((function(e){return a.a.createElement(Y,{key:e.title,foodItem:e,sign:s})}))),a.a.createElement("div",{className:"order-content cost"},"Total cost includes delivery: ",i," ",s)))};function W(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=K(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function $(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q=Object(c.b)((function(e){return{state:e}}),null)((function(e){var t=e.state.userId;Object(n.useEffect)((function(){c()}),[]);var r=V(Object(n.useState)(!1),2),o=r[0],i=r[1],c=function(){fetch("http://liptonv.pythonanywhere.com/get_orders_by_user_id",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({userId:t})}).then((function(e){return e.json()})).then((function(e){var t,r=$(e.data),n=W(r);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,c=JSON.parse(o.orders).pizzas,u=[],l=W(c);try{for(l.s();!(a=l.n()).done;){var s=a.value;u.push(s)}}catch(e){l.e(e)}finally{l.f()}o.orders=u}}catch(e){n.e(e)}finally{n.f()}i(r)}))};return o.length?a.a.createElement("section",{id:"orders"},a.a.createElement("ul",null,o.map((function(e,t){return a.a.createElement(J,{key:t,order:e})})))):a.a.createElement("section",{id:"orders"},a.a.createElement("h1",{className:"empty"},"You don't have any orders yet"))})),B=Object(c.b)((function(e){return{state:e}}),null)((function(e){return e.state.isAuthorized?a.a.createElement(j.b,{path:"/orders",component:q}):a.a.createElement(j.a,{to:"/checkout"})}));r(358);function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var te=Object(c.b)((function(e){return{state:e}}),null)((function(e){var t=e.pizza,r=t.title,o=t.image,i=t.price,c=t.displayedPrice,u=e.state.sign,l=Q(Object(n.useState)(0),2),s=l[0],f=l[1];Object(n.useEffect)((function(){var t;f((t=e.state.order.pizzas.find((function(e){return e.title===r})))?t.counter:0)}),[]);var d=e.dispatch;return a.a.createElement("li",{className:"pizza-cart-item"},a.a.createElement("div",{className:"pizza-cart-item-content"},a.a.createElement("div",null,a.a.createElement("img",{src:"https://drive.google.com/uc?export=view&id=".concat(o)}),a.a.createElement("h3",null,r)),a.a.createElement("div",null,a.a.createElement("p",null,(c*s).toFixed(2)," ",u),a.a.createElement(P,{counter:s,changePizzaCounter:function(e){f(e),d(s>0&&e>0?N({title:r,value:e}):e<1?x(r):I({title:r,price:i,image:o,counter:e}))}}))))}));r(360);function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ae=function(e){var t=e.deliveryCost,r=e.orderCost,o=e.sign,i=re(Object(n.useState)(""),2),c=i[0],u=i[1];return Object(n.useEffect)((function(){u(+(Number(r)+Number(t)).toFixed(2))}),[t,r]),a.a.createElement("section",{id:"order-info"},a.a.createElement("ul",null,a.a.createElement("li",null,"Cost of delivery: ",t," ",o),a.a.createElement("li",null,"Total: ",c," ",o)))},oe=(r(362),Object(c.b)((function(e){return{state:e}}),null)((function(e){var t=e.state.order.pizzas,r=e.state.sign,n=e.state.displayedDeliveryCost,o=e.state.orderSum,i=e.dispatch;return t.length>0?a.a.createElement("section",{id:"cart"},a.a.createElement("button",{id:"clear-cart",onClick:function(){i({type:"CLEAR_CART"})}},"Clear cart"),a.a.createElement("ul",null,e.state.order.pizzas.map((function(e){return a.a.createElement(te,{key:e.title,pizza:e})}))),a.a.createElement(ae,{sign:r,deliveryCost:n,orderCost:o}),a.a.createElement(u.b,{to:"/contact-details"},a.a.createElement("button",{className:"counter button send"},"Order"))):a.a.createElement("section",{id:"cart"},a.a.createElement("h1",{className:"empty"},"Your cart is empty. Add some delicious food!"))}))),ie=function(e){var t=e.title,r=e.name,n=e.value,o=e.changeInputValue;return a.a.createElement("div",{id:r},a.a.createElement("label",null,t),a.a.createElement("input",{name:r,value:n,onChange:function(){return o(event)}}))},ce=(r(364),function(e){var t=e.closePopUp,r=e.show,n=e.message,o=e.imageLink;return a.a.createElement("div",{id:"bgr",className:r},a.a.createElement("button",{onClick:function(){return t()},className:"close-pop-up"},"✖"),a.a.createElement("div",{id:"modal-window"},a.a.createElement("div",{id:"content"},a.a.createElement("label",null,n),a.a.createElement("img",{src:"https://drive.google.com/uc?export=view&id=".concat(o)}))))});function ue(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){if(e){if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(e,t):void 0}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var de=Object(c.b)((function(e){return{state:e}}),null)((function(e){var t=e.state.phoneNumber,r=e.state.address,o=e.state.sign,i=e.state.displayedDeliveryCost,c=e.state.orderSum,u=e.state.userId,l=e.state.exchangeRate,s=e.state.order,f=e.state.orderWasSent,d=le(Object(n.useState)([{name:"phoneNumber",value:t,title:"Phone Number"},{name:"address",value:r,title:"Address"}]),2),m=d[0],p=d[1],y=le(Object(n.useState)(""),2),b=y[0],v=y[1],h=le(Object(n.useState)(""),2),g=h[0],E=h[1],S=le(Object(n.useState)(""),2),O=S[0],A=S[1];Object(n.useEffect)((function(){p([{name:"phoneNumber",value:t,title:"Phone Number"},{name:"address",value:r,title:"Address"}])}),[s]),Object(n.useEffect)((function(){f&&(v("show"),E("Your order is accepted!"),A("1KUFWJOSaU8K1YvnvkKTD2lrYDv3b5LPq"))}),[f]);var j=function(e){var t=e.target,r=t.name,n=t.value,a=ue(m);a.map((function(e){return e.name===r&&(e.value=n),e})),p(a),w({type:"CHANGE_INPUT_VALUE",payload:{name:r,value:n}})},w=e.dispatch;return a.a.createElement("section",{id:"order-details"},a.a.createElement("h1",null,"Contact details"),a.a.createElement("form",null,m.map((function(e){return a.a.createElement(ie,{key:e.name,title:e.title,name:e.name,value:e.value,changeInputValue:j})}))),a.a.createElement(ae,{sign:o,deliveryCost:i,orderCost:c,getMessageAndImageLink:function(e,t){E(e),A(t),v("show")}}),a.a.createElement("button",{className:"button send",onClick:function(){var e=(new Date).toLocaleString(),n={address:r,userId:u,orderSum:c+i,exchangeRate:l,date:e,order:JSON.stringify(s),phoneNumber:t};r&&t&&c&&w(function(e){return function(){var t=C(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://liptonv.pythonanywhere.com/insert_order",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)});case 3:return n=t.sent,t.next=6,n.json();case 6:a=t.sent,r({type:"INSERT_ORDER",payload:a}),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(n))}},"Order"),a.a.createElement(ce,{message:g,imageLink:O,show:b,closePopUp:function(){w({type:"READY_FOR_NEW_ORDER"}),v(""),E(""),A("")}}))}));function me(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){if(e){if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ve=Object(c.b)((function(e){return{state:e}}),null)((function(e){var t=e.getMessageAndImageLink,r=e.checkedFormClass,o=pe(Object(n.useState)([{name:"login",value:"",title:"Login"},{name:"password",value:"",title:"Password"}]),2),i=o[0],c=o[1],u=function(e){var t=e.target,r=t.name,n=t.value,a=me(i);a.map((function(e){return e.name===r&&(e.value=n),e})),c(a)},l=e.dispatch;return a.a.createElement("section",{className:r},a.a.createElement("h1",null,"Sign up"),a.a.createElement("form",null,i.map((function(e){return a.a.createElement(ie,{key:"sign-up-".concat(e.name),title:e.title,name:e.name,value:e.value,changeInputValue:u})}))),a.a.createElement("button",{className:"button send",onClick:function(){var e=me(i),r={};e.forEach((function(e){r[e.name]=e.value})),fetch("http://liptonv.pythonanywhere.com/register_user",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){e.inserted_id?l(z(e.inserted_id)):t("Sign up failed. Change login","15NOFC7wqYc4kb7D2RzYbGWbkn466-Gr1")}))}},"Send"))}));function he(e){return function(e){if(Array.isArray(e))return Se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||Ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){if(e){if("string"==typeof e)return Se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Se(e,t):void 0}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Oe=Object(c.b)((function(e){return{state:e}}),null)((function(e){var t=e.getMessageAndImageLink,r=e.checkedFormClass,o=ge(Object(n.useState)([{name:"login",value:"",title:"Login"},{name:"password",value:"",title:"Password"}]),2),i=o[0],c=o[1],u=function(e){var t=e.target,r=t.name,n=t.value,a=he(i);a.map((function(e){return e.name===r&&(e.value=n),e})),c(a)},l=e.dispatch;return a.a.createElement("section",{className:r},a.a.createElement("h1",null,"Log in"),a.a.createElement("form",null,i.map((function(e){return a.a.createElement(ie,{key:"log-in-".concat(e.name),title:e.title,name:e.name,value:e.value,changeInputValue:u})}))),a.a.createElement("button",{className:"button send",onClick:function(){var e=he(i),r={};e.forEach((function(e){r[e.name]=e.value})),fetch("http://liptonv.pythonanywhere.com/login_user",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){e&&l(z(e.id))})).catch((function(){t("Authorized failed. Wrong login or password","15NOFC7wqYc4kb7D2RzYbGWbkn466-Gr1")}))}},"Send"))}));r(366);function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var we=function(){var e=Ae(Object(n.useState)(!0),2),t=e[0],r=e[1],o=Ae(Object(n.useState)(""),2),i=o[0],c=o[1],u=Ae(Object(n.useState)(""),2),l=u[0],s=u[1],f=Ae(Object(n.useState)(""),2),d=f[0],m=f[1],p=function(e,t){s(e),m(t),c("show")};return a.a.createElement("section",{id:"checkout"},a.a.createElement("ul",{id:"checkout-nav"},a.a.createElement("li",{onClick:function(){t||r(!t)}},"Log in"),a.a.createElement("li",{onClick:function(){t&&r(!t)}},"Sign up")),a.a.createElement(Oe,{checkedFormClass:t?"form":"hidden",getMessageAndImageLink:p}),a.a.createElement(ve,{checkedFormClass:t?"hidden":"form",getMessageAndImageLink:p}),a.a.createElement(ce,{message:l,imageLink:d,show:i,closePopUp:function(){c(""),s(""),m("")}}))},_e=Object(c.b)((function(e){return{state:e}}),null)((function(e){return e.state.isAuthorized?a.a.createElement(j.a,{to:"/"}):a.a.createElement(j.b,{path:"/checkout",component:we})})),Ce=function(){return a.a.createElement("section",{id:"page-not-found"},a.a.createElement("h1",{className:"empty"},"Page not found"),a.a.createElement(u.b,{to:"/",className:"back-to-menu"},"Back to menu"))},Ie=(r(143),function(){var e=Object(c.c)();return Object(n.useEffect)((function(){e(function(){var e=C(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://liptonv.pythonanywhere.com/dollar_to_euro");case 2:return r=e.sent,e.next=5,r.json();case 5:n=e.sent,t({type:"FETCH_EXCHANGE_RATE_COEFFICIENT_AND_DELIVERY",payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),a.a.createElement("main",null,a.a.createElement(R,null),a.a.createElement(j.d,null,a.a.createElement(j.b,{path:"/",exact:!0,render:function(){return a.a.createElement(j.a,{to:"/menu"})}}),a.a.createElement(j.b,{path:"/menu",component:G}),a.a.createElement(j.b,{path:"/orders",component:B}),a.a.createElement(j.b,{path:"/cart",component:oe}),a.a.createElement(j.b,{path:"/contact-details",exact:!0,component:de}),a.a.createElement(j.b,{path:"/checkout",component:_e}),a.a.createElement(j.b,{component:Ce})))}),Ne={key:"root",storage:p.a},xe=Object(f.a)(Ne,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_EXCHANGE_RATE":var r=t.payload,n=E({},e.order),a=y(r),o=0;n.pizzas.map((function(t){var n=b(t.price,r,e.exchangeRateCoefficient);return t.displayedPrice=n,o+=n*t.counter,t}));var i=b(e.deliveryCost,r,e.exchangeRateCoefficient);return E(E({},e),{},{order:n,exchangeRate:r,sign:a,displayedDeliveryCost:i,orderSum:o});case"FETCH_EXCHANGE_RATE_COEFFICIENT_AND_DELIVERY":var c=t.payload.coefficient,u=t.payload.deliveryCost,l=b(u,e.exchangeRate,c);return E(E({},e),{},{exchangeRateCoefficient:c,displayedDeliveryCost:l});case"ADD_PIZZA_TO_CART":var s=b(t.payload.price,e.exchangeRate,e.exchangeRateCoefficient),f=E(E({},t.payload),{},{displayedPrice:s}),d=v(e.order.pizzas);d.push(f);var m=e.orderSum+s,p=E(E({},e.order),{},{pizzas:d});return E(E({},e),{},{order:p,orderSum:m});case"CHANGE_PIZZA_QUANTITY":var h=v(e.order.pizzas),g=0;h=h.map((function(e){return e.title===t.payload.title?(e.counter=t.payload.value,g+=e.displayedPrice*t.payload.value):g+=e.displayedPrice*e.counter,e}));var S=E(E({},e.order),{},{pizzas:h});return E(E({},e),{},{order:S,orderSum:g});case"REMOVE_PIZZA_FROM_CART":var A=v(e.order.pizzas),j=0;A=A.filter((function(e){if(e.title!==t.payload)return 1;j+=e.displayedPrice*e.counter}));var w=E(E({},e.order),{},{pizzas:A});return E(E({},e),{},{order:w,orderSum:j});case"CLEAR_CART":var _=E({},e.order);for(var C in _)_[C]=[];return E(E({},e),{},{order:_,orderSum:0});case"CHANGE_INPUT_VALUE":var I=t.payload.name,N=t.payload.value,x=E({},e);return Object.keys(x).forEach((function(e){e===I&&(x[e]=N)})),E({},x);case"INSERT_ORDER":var z=E({},e.order);for(var k in z)z[k]=[];return E(E({},e),{},{order:z,orderSum:0,address:"",phoneNumber:"",orderWasSent:!0});case"HAS_AUTHORISED":var T=t.payload;return E(E({},e),{},{userId:T,isAuthorized:!0});case"LOG_OUT":return E(E({},e),{},{userId:"",isAuthorized:!1});case"READY_FOR_NEW_ORDER":return E(E({},e),{},{orderWasSent:!1})}return e})),ze=Object(l.createStore)(xe,Object(A.composeWithDevTools)(Object(l.applyMiddleware)(s.a))),ke=Object(f.b)(ze);i.a.render(a.a.createElement(u.a,null,a.a.createElement(c.a,{store:ze},a.a.createElement(d.a,{loading:null,persistor:ke},a.a.createElement(Ie,null)))),document.getElementById("app"))}});